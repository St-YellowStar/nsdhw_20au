SHARED_OBJ=_vector.so

CXXFLAGS=-O3 -Wall -shared -std=c++11 -fPIC \
	`python3 -m pybind11 --includes`

LDFLAGS=`python3-config --ldflags`

SRC=main.cpp

$(SHARED_OBJ): $(SRC)
	g++ $(CXXFLAGS) -o $(SHARED_OBJ) $^ $(LDFLAGS)

test:
	pytest

clean:
	rm -rf $(SHARED_OBJ)

.PHONY: test clean
